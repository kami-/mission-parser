var MisPars=MisPars||{};MisPars.Lexer=MisPars.Lexer||{};MisPars.Parser=MisPars.Parser||{};MisPars.PrettyPrinter=MisPars.PrettyPrinter||{};(function(e,t,n){var r="	";e.pp=function(e,t){var n="";r=t;for(var s=0;s<e.length;s++){n+=i(e[s],"");n+="\n"}return n};var i=function(e,n){var r=n;if(e.type===t.NodeType.SimpleField){r+=s(e)}else if(e.type===t.NodeType.ArrayField){r+=o(e,n)}else if(e.type===t.NodeType.ClassField){r+=f(e,n)}else{}return r};var s=function(e){var t=e.value;t+="=";t+=e.fieldValue.value;return t+=";"};var o=function(e,n){var i=e.value;i+="[]=";if(e.fieldValue.elements[0].type===t.NodeType.String){i+=a(e.fieldValue.elements,n)}else{i+=u(e.fieldValue.elements,n+r)}return i+=";"};var u=function(e,t){var n="{";for(var r=0;r<e.length;r++){if(r!==0){n+=","}n+=e[r].value}return n+"}"};var a=function(e,t){var n="\n";n+=t;n+="{";for(var i=0;i<e.length;i++){if(i!==0){n+=","}n+="\n";n+=t+r;n+=e[i].value}n+="\n";n+=t;return n+"};"};var f=function(e,t){var n="class ";n+=e.value;n+="\n";n+=t;n+="{";for(var s=0;s<e.fields.length;s++){n+="\n";n+=i(e.fields[s],t+r)}n+="\n";n+=t;return n+"};"}})(MisPars.PrettyPrinter,MisPars.Parser);var MisPars=MisPars||{};MisPars.Lexer=MisPars.Lexer||{};MisPars.Parser=MisPars.Parser||{};(function(e,t){e.NodeType={Error:-1,Int:1,Float:2,String:3,Array:4,ArrayField:5,ClassField:6,SimpleField:7};var n={};var r={};var i=null;e.init=function(e,t){n=t;n.init(e);i=null};e.parse=function(){r=n.getNextToken();i=s();if(r.type!==n.Token.End){v()}return i};var s=function(){var e=[];if(r.type===n.Token.ID||r.type===n.Token.Class){e=o(e)}else{v();return null}return e};var o=function(e){if(r.type===n.Token.ID||r.type===n.Token.Class){e.push(u());e=o(e)}return e};var u=function(){var e=r;var t={};if(r.type===n.Token.ID){m(n.Token.ID);t=a();t.value=e.lexeme;m(n.Token.SemiColon)}else if(r.type===n.Token.Class){m(n.Token.Class);t=d();m(n.Token.SemiColon)}else{v();return null}return t};var a=function(){var t={};if(r.type===n.Token.Equal){m(n.Token.Equal);t.fieldValue=f();t.type=e.NodeType.SimpleField}else if(r.type===n.Token.LSB){m(n.Token.LSB);t.fieldValue=c();t.type=e.NodeType.ArrayField}else{v();return null}return t};var f=function(){if(r.type===n.Token.Int||r.type===n.Token.Float||r.type===n.Token.String){return l()}else{v()}};var l=function(){var t=r;var i={value:t.lexeme};if(r.type===n.Token.Int){m(n.Token.Int);i.type=e.NodeType.Int}else if(r.type===n.Token.Float){m(n.Token.Float);i.type=e.NodeType.Float}else if(r.type===n.Token.String){m(n.Token.String);i.type=e.NodeType.String}else{v()}return i};var c=function(){var t=r;var i={elements:[]};if(r.type===n.Token.RSB){m(n.Token.RSB);m(n.Token.Equal);m(n.Token.LCB);i.type=e.NodeType.Array;i.elements=h()}else{v();return null}return i};var h=function(){var e=[];if(r.type===n.Token.RCB){m(n.Token.RCB)}else if(r.type===n.Token.Int||r.type===n.Token.Float||r.type===n.Token.String){e.push(l());e=p(e)}else{v();return null}return e};var p=function(e){if(r.type===n.Token.RCB){m(n.Token.RCB)}else if(r.type===n.Token.Comma){m(n.Token.Comma);e.push(l());e=p(e)}else{v();return null}return e};var d=function(){var t=r;var i={value:t.lexeme,fields:[]};if(r.type===n.Token.ID){m(n.Token.ID);m(n.Token.LCB);i.type=e.NodeType.ClassField;i.fields=o(i.fields);m(n.Token.RCB)}else{v();return null}return i};var v=function(){console.log("Parsing error!")};var m=function(e){if(r.type===e){r=n.getNextToken()}else{v()}}})(MisPars.Parser);var MisPars=MisPars||{};MisPars.Lexer=MisPars.Lexer||{};(function(e,t){e.Token={Error:-1,End:0,Int:1,Float:2,String:3,ID:4,LB:11,RB:12,LCB:13,RCB:14,LSB:15,RSB:16,Comma:17,SemiColon:18,Equal:19,Minus:20,Class:21};e.Keywords={"class":e.Token.Class};e.State={Error:-1,Init:0,Int:1,Float:2,ID:3,String:4,FirstQuote:5,SecondQuote:6};var n="";var r=0;var i=0;var s=0;var o=e.State.Init;var u=0;e.init=function(t){o=e.State.Init;r=0;i=0;s=0;n=t;u=0};e.getNextToken=function(){var t={lexeme:"",type:e.Token.End};while(r<n.length){switch(o){case e.State.Init:if(l(n[r])){o=e.State.Init;h();u=r}else if(a(n[r])){o=e.State.Int}else if(n[r]==="."){o=e.State.Dot}else if(f(n[r])){o=e.State.ID}else if(c(n[r])){var i={lexeme:n[r]};switch(n[r]){case"(":i.type=e.Token.LB;break;case")":i.type=e.Token.RB;break;case"{":i.type=e.Token.LCB;break;case"}":i.type=e.Token.RCB;break;case"[":i.type=e.Token.LSB;break;case"]":i.type=e.Token.RSB;break;case",":i.type=e.Token.Comma;break;case";":i.type=e.Token.SemiColon;break;case"=":i.type=e.Token.Equal;break}o=e.State.Init;h();u=r;return i}else if(n[r]==='"'){o=e.State.String}else if(n[r]==="-"){o=e.State.Int}else{o=e.State.Error}break;case e.State.Int:h();if(a(n[r])){o=e.State.Int}else if(n[r]==="."){o=e.State.Float}else{return p(n.substring(u,r),e.Token.Int)}break;case e.State.Dot:h();if(a(n[r])){o=e.State.Float}else{o=e.State.Error}break;case e.State.Float:h();if(a(n[r])){o=e.State.Float}else{return p(n.substring(u,r),e.Token.Float)}break;case e.State.ID:h();if(f(n[r])||a(n[r])){o=e.State.ID}else{var s=n.substring(u,r);var i=e.Token.ID;if(e.Keywords.hasOwnProperty(s)){i=e.Keywords[s]}return p(s,i)}break;case e.State.String:h();if(n[r]==='"'){o=e.State.FirstQuote}else{o=e.State.String}break;case e.State.FirstQuote:h();if(n[r]==='"'){o=e.State.SecondQuote}else{return p(n.substring(u,r),e.Token.String)}break;case e.State.SecondQuote:h();if(n[r]==='"'){o=e.State.FirstQuote}else{o=e.State.String}break;case e.State.Error:return{lexeme:"",type:e.Token.Error};break}}if(o!==e.State.Init){t.type=e.Token.Error}return t};var a=function(e){return e<="9"&&e>="0"};var f=function(e){return e!==t&&/[a-zA-Z]/.test(e)};var l=function(e){return e===" "||e==="\n"||e==="	"};var c=function(e){return e==="("||e===")"||e==="{"||e==="}"||e==="["||e==="]"||e===","||e==="."||e===";"||e==="="};var h=function(){if(n[r]=="\n"){i++;s=0}else{s++}r++};var p=function(e,t){d();return{lexeme:e,type:t}};var d=function(){o=e.State.Init;u=r}})(MisPars.Lexer)